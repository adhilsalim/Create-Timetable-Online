<!DOCTYPE html>
<html>

<head>
    <title>Create timetable for online class</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="manifest" href="site.webmanifest">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script data-ad-client="ca-pub-6461088152118886" async
        src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>

<body>
    <!-- SCRIPTS -->
    <script src="js/script-V-12.4.js"></script>
    <script src="js/jspdf.js"></script>
    <script src="js/jspdf-autotable.js"></script>
    <!--<script src="js/importtable.js"></script>-->

    <div class="container-fluid"><br id="hdbr">
        <div class="row">
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <div class="col-md-8">
                <div class="gradient-border" id="header">
                    <div class="row">
                        <!--<div class="col-1"></div>-->
                        <div class="col-md-6">
                            <h3>Create Timetable Online</h3>
                        </div>
                    </div>
                    <div class="row">
                        <!--<div class="col-1"></div>-->
                        <div class="col-md-6">
                            <a href="#" style="text-decoration: none;">
                                <h5><small>onlinetimetable.web.app</small></h5>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <br><br>
        <!--<div class="row">


            <div class="col-md-12">
                <center>
                    <img src="img/main1.jpg" alt="image" width="80%" height="100%">
                </center>
            </div>

        </div><br><br>-->
        <div class="row">
            <div class="col-1"></div>
            <div class="col-xs-4 col-md-8">
                <h3>About</h3>
                <hr id="x100110" color="red" align="left">
                <p>Create Timetable Online is a web app which allows you to create online class timetable for
                    free!<br>Type the subject, select time, paste class link, hit submit done!<br>You can see the
                    timetable below the submit button. Hmm, Made a mistake? don't worry you can either edit it or delete
                    it
                    from the table. Also, you can download your current timetable to modify them later or even to share
                    with others!<br>Click <b>download data</b> to download your current timetable, it will be a .txt
                    file with name data (data.txt), to import the timetable click <b>Choose file</b> below <b>import
                        data</b>, Done!<br>You can convert your timetable to .pdf by clicking <b>Download pdf</b>
                    button. Cool right?<br>We're working on adding new features to this project, Also don't forget to
                    share this site :)<br><br><i>Need further help?
                        feel
                        free to contact us via <a href="mailto:cloudfoxapps@gmail.com">mail</a></i>
                </p>
                <p><a href="mailto:cloudfoxapps@gmail.com">feedback/suggestion</a></p>
            </div>
        </div><br><br>
        <div class="row">
            <!--<div class="col-12">-->
            <div class="col-1"></div>
            <div class="col-md-4" id="maintablerow">
                <table class="maintable">
                    <tr>
                        <td>
                            <form onsubmit="event.preventDefault();onFormSubmit();" autocomplete="off">
                                <div>
                                    <label class="inputboxtext">Subject:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                                    <label class="validation-error hide" id="fullNameValidationError">Error: (rsvrd
                                        string)</label>
                                    <input class="effect-1" type="text" name="Subject" id="Subject" required>
                                </div><br>
                                <div>
                                    <label
                                        class="inputboxtext">Time:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
                                    <input type="time" name="Time" id="Time" required>
                                </div><br>
                                <div>
                                    <label class="inputboxtext">Class Link:</label>
                                    <input class="effect-1" type="text" name="Link" id="Link" required>
                                </div><br>

                                <div class="form-action-buttons">
                                    <input type="submit" value="Submit">&nbsp;
                                </div>


                            </form>
                        </td>
                        <td>
                </table>
            </div>
            <div class="col-1"></div>
            <div class="col-1"></div>

            <div class="col-md-4">
                <center>
                    <img src="img/main2.jpg" id="imagemain1" alt="image" height="100%" width="80%">
                </center>
            </div>

        </div>
        <br><br><br>
        <div class="row">
            <div class="col-1"></div>
            <table class="col-xs-8 col-md-4 " id="subjectList">
                <thead style="align-items: center;">
                    <tr>
                        <th>Subject</th>
                        <th>Time</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>

        </div><br><br><br>
        <!--<button id="246890">Generate Link</button>-->
        <div class="row">
            <div class="col-1"></div>
            <div class="col-md-4" id="cntrlcnt">
                <div class="col-md-1">
                    <input title="Download your current progress. You can also share this file with others."
                        type="button" id="download" onclick="createtabledata();" value="Download Data">
                </div>
                &nbsp;&nbsp;&nbsp;
                <div class="col-md-1">
                    <input title="Download current table as .pdf" type="button" id="generatepdf" onclick="generate()"
                        value="Download Pdf">
                </div>
                &nbsp;
                <h6 style="margin-left: 16px;">Import Data:</h6>
                <div class="col-md-1">
                    <input title="Import table from data.txt" type="file" id="inputfile">
                </div>
            </div>
        </div><br><br><br><br>
        <!--<div class="row">
            <div class="col-xs-10 col-md-10">
            </div>
            <div class="col-xs-2 col-md-2">
                <a target="_blank"
                    href="whatsapp://send?text=CreateTimeTableOnline:https://onlinetimetable.web.app"><img
                        src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/WhatsApp.svg/225px-WhatsApp.svg.png"
                        alt="share" height="32px" width="32px"></a>
            </div>
        </div>-->
        <div class="row">
            <div class="col-md-12">
                <center>
                    <div id="share-buttons">

                        <a href="http://www.facebook.com/sharer.php?u=https://onlinetimetable.web.app" target="_blank">
                            <img src="img/fb.png" alt="Facebook" height="30px" width="30px" id="fbshare">
                        </a>&nbsp;

                        <a href="https://api.whatsapp.com/send?text=Create%20timetable%20for%20online%20class%0D%0Ahttps://onlinetimetable.web.app"
                            data-action="share/whatsapp/share" target="_blank">
                            <img src="img/wa.png" alt="WhatsApp" height="30px" width="30px" id="washare">
                        </a>&nbsp;
                        <a
                            href="mailto:?Subject=Create timetable online!&amp;Body=Use%20this%20simple%20tool%20to%20create%20timetable%20for%20your%20online%20class!%0D%0A%0D%0Ahttps://onlinetimetable.web.app">
                            <img src="img/gm.png" alt="Email" height="30px" width="30px" id="gmshare">
                        </a>


                    </div>
                </center>
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col-xs-12 col-md-12" style="background-color: rgba(98, 248, 236, 0.534)">
                <br>
                <center>
                    <p>Â© 2021 Copyright: <a style="color: rgb(58, 9, 238);"
                            href="https://onlinetimetable.web.app">onlinetimetable.web.app</a></p>
                </center>
            </div>
        </div>
    </div>


    <div class="popupmessage" id="popupmessage">
        <div class="row">
            <div class="col-xs-2 col-md-4"></div>
            <div class="col-xs-2 col-md-4">
                <div class="modal-content">
                    <center>
                        <font><strong style="font-family: Arial, Helvetica, sans-serif;color: red;">Do you want to
                                delete
                                this
                                class?</strong>
                        </font>
                    </center><br>
                    <center><button id="deleteconfirm">Delete</button>&nbsp;&nbsp;<button onclick="closepop()"
                            id="cancelconfirm">Cancel</button>
                    </center>
                </div>
            </div>
            <div class="col-xs-2 col-md-4"></div>
        </div>
    </div>

    <script type="text/javascript">
        var rowArray = [];
        var colArray = [];
        var k = 0;
        var m = 0;
        var importDataValidator = "f";

        //data to table
        document.getElementById('inputfile').addEventListener('change', function () {
            var fr = new FileReader();
            fr.onload = function () {
                var textResult = fr.result;
                var textResultMod = textResult.replace("C-CR-RC-C", "").replace("C-CR-R", "R-R");
                if (textResultMod.includes("R-R")) {
                    rowArray = textResultMod.split("R-R");
                } else {
                    rowArray = textResultMod.split("R-R");
                    //alert("single row table!");
                }
                rowArraylength = rowArray.length;

                for (k = 0, m = 0; k <= rowArraylength; k++) {
                    var table = document.getElementById("subjectList").getElementsByTagName('tbody')[0];
                    var newRow = table.insertRow(table.length);
                    colArray[k + m] = rowArray[k].split("C-C")[0];
                    cell1 = newRow.insertCell(0);
                    cell1.innerHTML = `<a href="` + rowArray[k].split("C-C")[2] + `" target="_blank">` + colArray[k + m] + `</a>`;
                    m = m + 1;

                    colArray[k + m] = rowArray[k].split("C-C")[1];
                    cell2 = newRow.insertCell(1);
                    cell2.innerHTML = colArray[k + m];
                    m = m + 1;

                    colArray[k + m] = rowArray[k].split("C-C")[2];
                    cell3 = newRow.insertCell(2);
                    cell3.innerHTML = `<p style="display:none;">` + colArray[k + m] + `</p>`;
                    cell4 = newRow.insertCell(3);
                    cell4.innerHTML = `<button class="button buttonedit" onClick="onEdit(this)">edit</button>
                       <button class="button buttondelete" onClick="onDelete(this)">delete</button>`;
                    // alert("A1:" + colArray[0] + " " + "A2:" + colArray[1] + " " + "A3:" + colArray[2] + " " + "A4:" + colArray[3] + " " + "A5:" + colArray[4] + " " + "A6:" + colArray[5]);
                }

            }

            fr.readAsText(this.files[0]);
            importDataValidator = "t";
        })
    </script>
    <!--
    <script src="https://www.gstatic.com/firebasejs/5.0.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.0.1/firebase-database.js"></script>
    <script>

        // Initialize Database with id
        var firebaseConfig = {
            apiKey: "AIzaSyCyIzzAEVq7Dt7i3nJDzRaLLWFa7Zqblqs",
            authDomain: "adhil-services.firebaseapp.com",
            databaseURL: "https://adhil-services-default-rtdb.firebaseio.com",
            projectId: "adhil-services",
            storageBucket: "adhil-services.appspot.com",
            messagingSenderId: "493243510921",
            appId: "1:493243510921:web:b385d56d3f3bf5e2d95658"
        };

        // Initialize Database 
        firebase.initializeApp(firebaseConfig);
        //posting and retrieving
        //Rootref is the whole database.
        const rootRef = firebase.database().ref();
        //commentsRef is the pageCountsNode
        const ottlinkRef = rootRef.child('OnlineTimeTableLinks');

        document.getElementById("246890").addEventListener("click", function () {

            var newLink = document.getElementById('txComment').value.replace(/\n/g, "<br>");
            //Define a new, keyed post.
            var newPostRef = commentsRef.push();
            //Fill tne new keyed post with data
            newPostRef.set({
                name: document.getElementById('tbName').value.trim(),
                comment: newcomment.trim(),
                frompage: location.pathname,
                when: firebase.database.ServerValue.TIMESTAMP
            });

        });


        //create table data   
        tabledatastring = "";
        var rowLength = document.getElementById("subjectList").rows.length;
        for (i = 1; i < rowLength; i++) {
            var columnLength = document.getElementById("subjectList").rows[i].cells.length;

            for (j = 0; j < columnLength; j++) {
                if (j == 0) {
                    scriptReplacedLink = document.getElementById("subjectList").rows[i].cells.item(j + 2).innerHTML.replace("<p style=", "").replace("display:none;", "").replace("</p>", "").replace(">", "").replace('"', "").replace('"', "");
                    tempstring = document.getElementById("subjectList").rows[i].cells.item(j).innerHTML.replace("</a>", "").replace("<a href=", "").replace('"', "").replace('"', "").replace('"', "").replace('"', "").replace("target=_blank>", "").replace(" ", "").replace(scriptReplacedLink, "");
                    tabledatastring = tabledatastring + tempstring + "C-C";
                }
                if (j == 1) {
                    tempstring = document.getElementById("subjectList").rows[i].cells.item(j).innerHTML;
                    tabledatastring = tabledatastring + tempstring + "C-C";
                }
                if (j == 2) {

                    tempstring = document.getElementById("subjectList").rows[i].cells.item(j).innerHTML.replace("<p style=", "").replace("display:none;", "").replace("</p>", "").replace(">", "").replace('"', "").replace('"', "");
                    tabledatastring = tabledatastring + tempstring + "C-C";
                }
            }
            tabledatastring = tabledatastring + "R-R";

        }
        if (importDataValidator == "f") {
            tabledatastring = tabledatastring + "C-C";
        } else {
            tabledatastring = tabledatastring.replace("C-CR-RR-R", "C-CR-RC-C")
        }



        tableexist = document.getElementById("subjectList").rows.length
        if (tableexist <= 1) {
            tabledatastring = "error::table data missing";
        }


    </script>-->
</body>

</html>